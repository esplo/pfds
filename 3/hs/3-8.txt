ノード数nの時の最大深さを考えるため、
ある深さを実現する際に必要になる最小のノード数を考える。

最も深い経路は、必要ノード数が最小の場合、明らかにRとBが交互に出てくる。
これは、Rは連続できず、かつBの出現数を減らすためである。

また、同様の要求で、深さが奇数の時はRがルート、偶数の時はBがルートである。
これにより、その経路の末端ノードは必ずRになる。


この経路に対し、「全ての経路でのBの出現数が同じ」という条件を満たすため、ノードを付与してゆくことを考える。
深さをmとするとき、その深さになったことにより新たに必要とされるノード数は、以下である。

g(m) = 2 ^ {floor(m-1 / 2)} - 1

深さmで必要とされる全てのノード数は、以下の式で求まる。

f(m) = m + \sum^{m}_{i=1}( g(i) )

f(m) = nと置いて式変形をすると、
n = m - m + \sum^{m}_{i=1}( 2 ^ {floor(m-1 / 2)} )
  = \sum^{m}_{i=1}( 2 ^ {floor(m-1 / 2)} )
